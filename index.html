<!DOCTYPE html>  
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Vesper · 系统入口</title>
<link rel="preload" href="assets/icons.svg" as="image">
<link rel="stylesheet" href="assets/css/style.css">
<style>
/* --- 首页局部样式（先写在这里，后面再挪到 style.css） --- */
.container{max-width:980px;margin:0 auto;padding:20px 16px 88px;}
.brand{font-size:26px;font-weight:800;letter-spacing:.5px;margin:10px 0 18px;}
.section{margin:22px 0 8px;display:flex;align-items:center;gap:10px}
.section .line{height:1px;background:#2a2a2a;flex:1}
.section h3{margin:0;font-size:14px;color:#bdbdbd;font-weight:700}

/* 搜索框 */
.search{position:relative;margin:8px 0 18px}
.search input{
  width:100%;height:42px;border-radius:10px;border:1px solid #2b2b2b;
  background:#121212;color:#eee;padding:0 44px 0 14px;outline:none;
}
.search .suffix{position:absolute;right:10px;top:50%;transform:translateY(-50%);opacity:.7}

/* 功能网格：两列，按钮扁平不膨胀 */
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.tile{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 14px;border:1px solid #262626;border-radius:12px;
  background:#121212;transition:background .15s,border-color .15s;
}
.tile:hover{background:#161616;border-color:#2f2f2f}
.tile .title{font-weight:800;color:#f3f3f3}
.tile .sub{font-size:12px;color:#8e8e8e}

/* 详情按钮（矢量图标） */
.icon-btn{width:30px;height:30px;border:1px solid #2b2b2b;border-radius:8px;
  display:flex;align-items:center;justify-content:center;background:#151515}
.icon{width:18px;height:18px;display:inline-block}

/* 底部导航（放大一点） */
.navbar{height:72px}
.navbar a{font-size:13px}
.navbar a .icon{width:22px;height:22px;display:block;margin:0 auto 4px}
</style>
</head>
<body>

<!-- 内联图标库挂载 -->
<object data="assets/icons.svg" type="image/svg+xml" style="display:none"></object>

<main class="container">
  <div class="brand">Vesper 系统入口</div>

  <!-- 搜索 -->
  <div class="search">
    <input id="q" type="search" placeholder="搜索功能…" />
    <span class="suffix">
      <svg class="icon"><use href="assets/icons.svg#icon-search"/></svg>
    </span>
  </div>

  <!-- 收藏夹 -->
  <div class="section"><h3>收藏夹</h3><div class="line"></div></div>
  <div class="grid" id="fav">
    <!-- 先留空，后面做收藏功能再填充 -->
  </div>

  <!-- 全部功能（一级分类） -->
  <div class="section"><h3>全部功能</h3><div class="line"></div></div>
  <div class="grid" id="all">
    <a class="tile" href="category/ocr.html">
      <div>
        <div class="title">OCR</div>
        <div class="sub">图片转文档 / 多模型</div>
      </div>
      <div class="icon-btn" aria-label="详情">
        <svg class="icon"><use href="assets/icons.svg#icon-info"/></svg>
      </div>
    </a>

    <a class="tile" href="category/ai.html">
      <div>
        <div class="title">AI 助手</div>
        <div class="sub">对话 / 写作 / 搜索</div>
      </div>
      <div class="icon-btn" aria-label="详情">
        <svg class="icon"><use href="assets/icons.svg#icon-info"/></svg>
      </div>
    </a>

    <a class="tile" href="category/tools.html">
      <div>
        <div class="title">工具箱</div>
        <div class="sub">网页保存 / PDF / 解析</div>
      </div>
      <div class="icon-btn" aria-label="详情">
        <svg class="icon"><use href="assets/icons.svg#icon-info"/></svg>
      </div>
    </a>

    <a class="tile" href="category/mine.html">
      <div>
        <div class="title">我的</div>
        <div class="sub">账户 / 设置 / 数据</div>
      </div>
      <div class="icon-btn" aria-label="详情">
        <svg class="icon"><use href="assets/icons.svg#icon-info"/></svg>
      </div>
    </a>
  </div>
</main>

<!-- 底部导航 -->
<div class="navbar">
  <a href="index.html" class="active">
    <svg class="icon"><use xlink:href="assets/icons.svg#icon-home"></use></svg>
    <span>首页</span>
  </a>
  <a href="favorites.html">
    <svg class="icon"><use xlink:href="assets/icons.svg#icon-star"></use></svg>
    <span>收藏</span>
  </a>
  <a href="profile.html">
    <svg class="icon"><use xlink:href="assets/icons.svg#icon-user"></use></svg>
    <span>我的</span>
  </a>
  <a href="settings.html">
    <svg class="icon"><use xlink:href="assets/icons.svg#icon-settings"></use></svg>
    <span>设置</span>
  </a>
</div>
<!-- 极简脚本：搜索占位 -->
<script>
/* --- 收藏状态存取 --- */
const FAV_KEY = 'vesper:favs';              // 本地存储键
const loadFavs = () => JSON.parse(localStorage.getItem(FAV_KEY) || '[]');
const saveFavs = (arr) => localStorage.setItem(FAV_KEY, JSON.stringify(arr));
const isFav = (k, arr) => arr.includes(k);

/* --- 绑定首页卡片右侧“收藏”按钮 --- */
function bindFavToggles(){
  const favs = loadFavs();
  document.querySelectorAll('[data-fav-key]').forEach(btn=>{
    const key = btn.getAttribute('data-fav-key');
    if(isFav(key, favs)) btn.classList.add('active');
    btn.addEventListener('click', (e)=>{
      e.stopPropagation();
      const list = loadFavs();
      const i = list.indexOf(key);
      if(i>=0){ list.splice(i,1); btn.classList.remove('active'); }
      else    { list.push(key);   btn.classList.add('active'); }
      saveFavs(list);
    });
  });
}

/* --- 启动 --- */
document.addEventListener('DOMContentLoaded', bindFavToggles);
</script>
  // 先留空：后续接入前端过滤或 AI 搜索
});
</script>
</body>
</html>
